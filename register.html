<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - SGE Maths Challenge</title>
  <link rel="stylesheet" href="style.css">
  <script>
    function handleRegister(event) {
      event.preventDefault();

      const form = document.getElementById("registerForm");
      const password = form.password.value;
      const confirmPassword = form.confirmPassword.value;

      if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
      }

      // Collect form data
      const studentData = {
        firstName: form.firstName.value,
        middleName: form.middleName.value,
        lastName: form.lastName.value,
        school: form.school.value,
        state: form.state.value,
        lga: form.lga.value,
        phone: form.phone.value,
        email: form.email.value,
        password: form.password.value,
        category: form.category.value,
        dob: form.dob.value,
        registrationType: form.registrationType.value
      };

      // Save to localStorage
      localStorage.setItem("studentData", JSON.stringify(studentData));

      alert("You have successfully registered. Proceed to payment.");
      document.getElementById("paymentBtn").style.display = "inline-block";
    }
  </script>
</head>
<body>
  <header>
    <h1>Register</h1>
  </header>

  <div class="container">
    <form id="registerForm" onsubmit="handleRegister(event)">
      <label>First Name</label>
      <input type="text" name="firstName" required>

      <label>Middle Name (Optional)</label>
      <input type="text" name="middleName">

      <label>Last Name</label>
      <input type="text" name="lastName" required>

      <label>School</label>
      <input type="text" name="school" required>

      <label>State of Residence</label>
      <select name="state" required>
        <option value="">--Select State--</option>
        <option value="Abia">Abia</option>
        <option value="Adamawa">Adamawa</option>
        <option value="Akwa Ibom">Akwa Ibom</option>
        <option value="Anambra">Anambra</option>
        <option value="Bauchi">Bauchi</option>
        <option value="Bayelsa">Bayelsa</option>
        <option value="Benue">Benue</option>
        <option value="Borno">Borno</option>
        <option value="Cross River">Cross River</option>
        <option value="Delta">Delta</option>
        <option value="Ebonyi">Ebonyi</option>
        <option value="Edo">Edo</option>
        <option value="Ekiti">Ekiti</option>
        <option value="Enugu">Enugu</option>
        <option value="FCT">FCT</option>
        <option value="Gombe">Gombe</option>
        <option value="Imo">Imo</option>
        <option value="Jigawa">Jigawa</option>
        <option value="Kaduna">Kaduna</option>
        <option value="Kano">Kano</option>
        <option value="Katsina">Katsina</option>
        <option value="Kebbi">Kebbi</option>
        <option value="Kogi">Kogi</option>
        <option value="Kwara">Kwara</option>
        <option value="Lagos">Lagos</option>
        <option value="Nasarawa">Nasarawa</option>
        <option value="Niger">Niger</option>
        <option value="Ogun">Ogun</option>
        <option value="Ondo">Ondo</option>
        <option value="Osun">Osun</option>
        <option value="Oyo">Oyo</option>
        <option value="Plateau">Plateau</option>
        <option value="Rivers">Rivers</option>
        <option value="Sokoto">Sokoto</option>
        <option value="Taraba">Taraba</option>
        <option value="Yobe">Yobe</option>
        <option value="Zamfara">Zamfara</option>
      </select>

      <label>Local Government Area</label>
      <input type="text" name="lga" required>

      <label>Phone Number</label>
      <input type="tel" name="phone" required>

      <label>Email Address</label>
      <input type="email" name="email" required>

      <label>Password</label>
      <input type="password" name="password" required>

      <label>Confirm Password</label>
      <input type="password" name="confirmPassword" required>

      <label>Category</label>
      <select name="category" required>
        <option>Upper Primary (Basic 4-6)</option>
        <option>Junior Secondary (JSS1-3)</option>
        <option>Senior Secondary (SS1-2)</option>
      </select>

      <label>Date of Birth</label>
      <input type="date" name="dob" required>

      <label>Registration Type</label>
      <select name="registrationType">
        <option>Early Bird</option>
        <option>Late</option>
      </select>

      <button type="submit">Save Profile</button>
    </form>

    <button id="paymentBtn" style="display:none;">Proceed to Payment</button
    <script src="https://js.paystack.co/v1/inline.js"></script>
<script>
  document.getElementById("paystackBtn").addEventListener("click", function(e) {
      e.preventDefault();

      // Replace with your real public key
      let handler = PaystackPop.setup({
          key:=sk_test_badaee428dc4a9a85da24c45f0b1f3b6ae2675f3  
          email: document.getElementById("email").value,  
          amount: 2000 * 100,  // amount in kobo (2000 = â‚¦2000)
          currency: "NGN",
          callback: function(response) {
              alert('Payment successful! Transaction ref: ' + response.reference);
              // Redirect to student dashboard
              window.location.href = "dashboard.html";
          },
          onClose: function() {
              alert('Payment cancelled.');
          }
      });
      handler.openIframe();
  });
</script>
  </div>
</body>
</html>